{{define "notes_editor"}}
    {{if ne .SelectedNote.NoteID 0}}
        <!-- tabindex https://stackoverflow.com/a/3149416 -->
        <div class="notes-editor {{if eq .IsNewNote true}}is-editable{{end}}" data-note-id="{{.SelectedNote.NoteID}}" tabindex="0">
            <div class="notes-editor-header">
                <div class="notes-editor-title" {{if eq .IsNewNote true}}contenteditable="true" {{end}}>{{.SelectedNote.Title}}</div>
                <div class="notes-editor-toolbar">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x notes-editor-toolbar-button-hide"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-check notes-editor-toolbar-button-done"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="m9 15 2 2 4-4"/></svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-line notes-editor-toolbar-button-edit"><path d="M12 20h9"/><path d="M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"/><path d="m15 5 3 3"/></svg>
                </div>
            </div>
            {{template "notes_editor_tags" .SelectedNote.Tags}}
            <div class="notes-editor-image-dropzone">
                Drag and drop images here...
            </div>
            <div class="notes-editor-image-attachment-preview"></div>
            <div class="notes-editor-content">
                <textarea class="notes-editor-textarea" placeholder="write here..." spellcheck="false">{{.SelectedNote.Content}}</textarea>
                <div class="notes-editor-rendered"></div>
            </div>
            {{if and (eq .IsNewNote false) (eq .SelectedNote.Title "") (eq .SelectedNote.Content "")}}
                <div class="notes-editor-empty-text">Empty note</div>
            {{end}}
        </div>
    {{end}}
{{end}}